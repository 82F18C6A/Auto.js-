功能:
使用auto.js模拟手动操作,每天自动更换微信头像;


适配环境:
1.Auto.js4.1.1,其他版本未测试过
2.MIUI(Android12),Hyperos(Android15)可用,其他系统未测试过
3.屏幕分辨率2400*1080,由于涉及微信组件布局,宽高比不同的设备可能点击到错误的组件;


使用方法:
1.手机Pictures/Gallerly/owner目录下新建profile目录,放入7张图片(命名为0-6,代表星期几,0为星期天,文件名后缀为jpg);
2.Pictures/Gallerly/owner目录下新建A目录,新建一个1.txt文件(要用到的是文件名,所以不需要内容);
3.脚本导入auto.js,定时任务--特定事件(广播)触发运行--屏幕解锁时;
4.Auto.js开启权限: 读写手机存储; 链式启动其他应用;


原理简述:
1.图片定位:
由于无法获取到微信组件布局,因此采取 点击固定位置+文件操作调整相册图片位置的方式,实现正确选择图片。
媒体库会依据图片修改时间为相册和图片进行排序,因此在模拟手动操作之前,通过将准备使用的图片复制到某个目录,
即可将图片"上浮"到第一个相册第一张图片的位置。从而使得点击固定位置也可以正确选择要使用的图片。
2.任务调度:
模拟手动操作需要屏幕解锁,不适合使用定时任务。使用 屏幕解锁触发+调用记录 方式进行触发。
每天第一次屏幕解锁并触发任务后,更新标记文件(即A文件夹下的txt文件),后续同一天再次触发屏幕解锁检查标记文件就会直接跳过任务;